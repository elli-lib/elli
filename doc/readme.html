<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.32.2">
    <meta name="project" content="elli v3.3.0">


    <title>Elli - Erlang web server for HTTP APIs — elli v3.3.0</title>
    <link rel="stylesheet" href="dist/html-erlang-EBZIIHAS.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-FF1D4582.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-BHYOTRCH.js"></script>


  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
elli
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v3.3.0
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of elli</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/elli-lib/elli/blob/v3.3.0/README.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>Elli - Erlang web server for HTTP APIs</span>
  </h1>

<p><a href="https://hex.pm/packages/elli"><img src="https://img.shields.io/hexpm/v/elli.svg" alt="Hex.pm"/></a>
<a href="readme.html"><img src="https://img.shields.io/badge/docs-edown-green.svg" alt="Documentation"/></a>
<a href="http://www.erlang.org/downloads"><img src="https://img.shields.io/badge/erlang-%E2%89%A520.0-red.svg" alt="Erlang"/></a>
<img src="https://github.com/elli-lib/elli/workflows/Common%20Test/badge.svg" alt="Common Test"/>
<a href="https://coveralls.io/github/elli-lib/elli?branch=develop"><img src="https://coveralls.io/repos/github/elli-lib/elli/badge.svg?branch=develop" alt="Coverage Status"/></a>
<a href="license.html"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="MIT License"/></a></p><p>Elli is a webserver you can run inside your Erlang application to
expose an HTTP API. It is aimed exclusively at building
high-throughput, low-latency HTTP APIs. If robustness and performance
is more important to you than general purpose features, then Elli might be
for you. If you find yourself digging into the implementation of a
webserver, then Elli might be for you. If you're building web services,
not web sites, then Elli might be for you.</p><p>Elli requires OTP 20.0 or newer.</p><h2 id="installation" class="section-heading">
  <a href="#installation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Installation</span>
</h2>
<p>Add <code class="inline">elli</code> to your application as a dependency to your
<a href="https://www.rebar3.org/docs/configuration"><code class="inline">rebar.config</code></a>:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="0313771923-1">{</span><span class="ss">deps</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0313771923-2">[</span><span class="w">
  </span><span class="p" data-group-id="0313771923-3">{</span><span class="ss">elli</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3.3.0&quot;</span><span class="p" data-group-id="0313771923-3">}</span><span class="w">
</span><span class="p" data-group-id="0313771923-2">]</span><span class="p" data-group-id="0313771923-1">}</span><span class="p">.</span></code></pre><p>Afterwards, to compile it, you can run:</p><pre><code class="makeup console" translate="no"><span class="">rebar3 compile
</span></code></pre><h2 id="usage" class="section-heading">
  <a href="#usage" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Usage</span>
</h2>
<p>To boot Elli inside an Erlang shell, run:</p><pre><code class="makeup console" translate="no"><span class="">rebar3 shell
</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="c1">%% starting elli</span><span class="gp unselectable">
1&gt; </span><span class="p" data-group-id="7789324343-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Pid</span><span class="p" data-group-id="7789324343-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">elli</span><span class="p">:</span><span class="nf">start_link</span><span class="p" data-group-id="7789324343-2">(</span><span class="p" data-group-id="7789324343-3">[</span><span class="p" data-group-id="7789324343-4">{</span><span class="ss">callback</span><span class="p">,</span><span class="w"> </span><span class="ss">elli_example_callback</span><span class="p" data-group-id="7789324343-4">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7789324343-5">{</span><span class="ss">port</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p" data-group-id="7789324343-5">}</span><span class="p" data-group-id="7789324343-3">]</span><span class="p" data-group-id="7789324343-2">)</span><span class="p">.</span></code></pre><h2 id="examples" class="section-heading">
  <a href="#examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h2>
<h3 id="callback-module" class="section-heading">
  <a href="#callback-module" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Callback Module</span>
</h3>
<p>The best source to learn how to write a callback module
is <a href="elli_example_callback.html"><code class="inline">elli_example_callback</code></a>.
There are also a bunch
of examples used in the tests as well as descriptions of all the events.</p><p>A minimal callback module looks something like this:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="7286774504-1">(</span><span class="ss">elli_minimal_callback</span><span class="p" data-group-id="7286774504-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">behaviour</span><span class="p" data-group-id="7286774504-2">(</span><span class="ss">elli_handler</span><span class="p" data-group-id="7286774504-2">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="7286774504-3">(</span><span class="s">&quot;elli/include/elli.hrl&quot;</span><span class="p" data-group-id="7286774504-3">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="7286774504-4">(</span><span class="p" data-group-id="7286774504-5">[</span><span class="ss">handle</span><span class="p">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">handle_event</span><span class="p">/</span><span class="mi">3</span><span class="p" data-group-id="7286774504-5">]</span><span class="p" data-group-id="7286774504-4">)</span><span class="p">.</span><span class="w">

</span><span class="nf">handle</span><span class="p" data-group-id="7286774504-6">(</span><span class="n">Req</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">Args</span><span class="p" data-group-id="7286774504-6">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="c1">%% Delegate to our handler function</span><span class="w">
    </span><span class="n">Method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Req</span><span class="o">#</span><span class="ss">req</span><span class="p">.</span><span class="ss">method</span><span class="p">,</span><span class="w">
    </span><span class="n">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">elli_request</span><span class="p">:</span><span class="nf">path</span><span class="p" data-group-id="7286774504-7">(</span><span class="n">Req</span><span class="p" data-group-id="7286774504-7">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">handle</span><span class="p" data-group-id="7286774504-8">(</span><span class="n">Method</span><span class="p">,</span><span class="w"> </span><span class="n">Path</span><span class="p">,</span><span class="w"> </span><span class="n">Req</span><span class="p" data-group-id="7286774504-8">)</span><span class="p">.</span><span class="w">

</span><span class="nf">handle</span><span class="p" data-group-id="7286774504-9">(</span><span class="ss">&#39;GET&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">_</span><span class="n">Method</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7286774504-10">[</span><span class="p">&lt;&lt;</span><span class="s">&quot;hello&quot;</span><span class="p">&gt;&gt;</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;&lt;</span><span class="s">&quot;world&quot;</span><span class="p">&gt;&gt;</span><span class="p" data-group-id="7286774504-10">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">_</span><span class="n">Path</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">Req</span><span class="p" data-group-id="7286774504-9">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="c1">%% Reply with a normal response. `ok&#39; can be used instead of `200&#39;</span><span class="w">
    </span><span class="c1">%% to signal success.</span><span class="w">
    </span><span class="n">StatusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">ok</span><span class="p">,</span><span class="w">
    </span><span class="n">Headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7286774504-11">[</span><span class="p" data-group-id="7286774504-11">]</span><span class="p">,</span><span class="w">
    </span><span class="n">Body</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">&lt;&lt;</span><span class="s">&quot;Hello World!&quot;</span><span class="p">&gt;&gt;</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="7286774504-12">{</span><span class="n">StatusCode</span><span class="p">,</span><span class="w"> </span><span class="n">Headers</span><span class="p">,</span><span class="w"> </span><span class="n">Body</span><span class="p" data-group-id="7286774504-12">}</span><span class="p">;</span><span class="w">

</span><span class="nf">handle</span><span class="p" data-group-id="7286774504-13">(</span><span class="p">_</span><span class="n">Method</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">Path</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">Req</span><span class="p" data-group-id="7286774504-13">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="7286774504-14">{</span><span class="mi">404</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7286774504-15">[</span><span class="p" data-group-id="7286774504-15">]</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;&lt;</span><span class="s">&quot;Not Found&quot;</span><span class="p">&gt;&gt;</span><span class="p" data-group-id="7286774504-14">}</span><span class="p">.</span><span class="w">

</span><span class="c1">%% @doc Handle request events: request completed, exception</span><span class="w">
</span><span class="c1">%% thrown, client timeout, etc. Must return `ok&#39;.</span><span class="w">
</span><span class="nf">handle_event</span><span class="p" data-group-id="7286774504-16">(</span><span class="p">_</span><span class="n">Event</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">Data</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">Args</span><span class="p" data-group-id="7286774504-16">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">ok</span><span class="p">.</span></code></pre><h3 id="supervisor-childspec" class="section-heading">
  <a href="#supervisor-childspec" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Supervisor ChildSpec</span>
</h3>
<p>To add <code class="inline">elli</code> to a supervisor you can use the following example and adapt it to
your needs.</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="0413724334-1">(</span><span class="ss">elli_minimal_sup</span><span class="p" data-group-id="0413724334-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">behaviour</span><span class="p" data-group-id="0413724334-2">(</span><span class="ss">supervisor</span><span class="p" data-group-id="0413724334-2">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="0413724334-3">(</span><span class="p" data-group-id="0413724334-4">[</span><span class="ss">start_link</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">init</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="0413724334-4">]</span><span class="p" data-group-id="0413724334-3">)</span><span class="p">.</span><span class="w">

</span><span class="nf">start_link</span><span class="p" data-group-id="0413724334-5">(</span><span class="p" data-group-id="0413724334-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">SupName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0413724334-6">{</span><span class="ss">local</span><span class="p">,</span><span class="w"> </span><span class="o">?</span><span class="n">MODULE</span><span class="p" data-group-id="0413724334-6">}</span><span class="p">,</span><span class="w">
    </span><span class="n">Module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?</span><span class="n">MODULE</span><span class="p">,</span><span class="w">
    </span><span class="n">Args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0413724334-7">[</span><span class="p" data-group-id="0413724334-7">]</span><span class="p">,</span><span class="w">
    </span><span class="nc">supervisor</span><span class="p">:</span><span class="nf">start_link</span><span class="p" data-group-id="0413724334-8">(</span><span class="n">SupName</span><span class="p">,</span><span class="w"> </span><span class="n">Module</span><span class="p">,</span><span class="w"> </span><span class="n">Args</span><span class="p" data-group-id="0413724334-8">)</span><span class="p">.</span><span class="w">

</span><span class="nf">init</span><span class="p" data-group-id="0413724334-9">(</span><span class="p" data-group-id="0413724334-10">[</span><span class="p" data-group-id="0413724334-10">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">_</span><span class="n">Args</span><span class="p" data-group-id="0413724334-9">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">ElliOpts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0413724334-11">[</span><span class="w">
        </span><span class="p" data-group-id="0413724334-12">{</span><span class="ss">callback</span><span class="p">,</span><span class="w"> </span><span class="ss">elli_minimal_callback</span><span class="p" data-group-id="0413724334-12">}</span><span class="p">,</span><span class="w">
        </span><span class="p" data-group-id="0413724334-13">{</span><span class="ss">port</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p" data-group-id="0413724334-13">}</span><span class="w">
    </span><span class="p" data-group-id="0413724334-11">]</span><span class="p">,</span><span class="w">
    </span><span class="n">ElliSpec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0413724334-14">{</span><span class="w">
        </span><span class="p">_</span><span class="n">Id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">elli_minimal_http</span><span class="p">,</span><span class="w">
        </span><span class="p">_</span><span class="n">Start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0413724334-15">{</span><span class="ss">elli</span><span class="p">,</span><span class="w"> </span><span class="ss">start_link</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0413724334-16">[</span><span class="n">ElliOpts</span><span class="p" data-group-id="0413724334-16">]</span><span class="p" data-group-id="0413724334-15">}</span><span class="p">,</span><span class="w">
        </span><span class="p">_</span><span class="n">Restart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">permanent</span><span class="p">,</span><span class="w">
        </span><span class="p">_</span><span class="n">Shutdown</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
        </span><span class="p">_</span><span class="n">Worker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">worker</span><span class="p">,</span><span class="w">
        </span><span class="p">_</span><span class="n">Modules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0413724334-17">[</span><span class="ss">elli</span><span class="p" data-group-id="0413724334-17">]</span><span class="p" data-group-id="0413724334-14">}</span><span class="p">,</span><span class="w">

    </span><span class="p" data-group-id="0413724334-18">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0413724334-19">{</span><span class="p" data-group-id="0413724334-20">{</span><span class="p">_</span><span class="n">Strategy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">one_for_one</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">Intensity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">Period</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="0413724334-20">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0413724334-21">[</span><span class="n">ElliSpec</span><span class="p" data-group-id="0413724334-21">]</span><span class="p" data-group-id="0413724334-19">}</span><span class="w"> </span><span class="p" data-group-id="0413724334-18">}</span><span class="p">.</span></code></pre><h2 id="further-reading" class="section-heading">
  <a href="#further-reading" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Further reading</span>
</h2>
<p>For more information about the features and design philosophy of Elli check
out the <a href="overview.html"><code class="inline">overview</code></a>.</p><h2 id="license" class="section-heading">
  <a href="#license" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">License</span>
</h2>
<p>Elli is licensed under <a href="license.html">The MIT License</a>.</p>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="api-reference.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
API Reference
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="overview.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Elli - Overview
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/elli/3.3.0" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/elli/3.3.0">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/elli/3.3.0/show/README.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="elli.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.32.2) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>


  </body>
</html>
